<div class="col-xs-12 col-md-12" ng-init="getComments()">
<div class="alert alert-danger" role="alert" ng-show="error">{{error}}</div>
	<form name="form">
		<div class="form-group">
			<label for="comment">Ny kommentar:</label>
			<textarea ng-model="$parent.comment" name="comment" class="form-control" rows="3" id="comment"></textarea>
		</div>
		<div class="form-group">
			<button ng-click="saveComment();" class="btn btn-primary">Kommenter</button>
		</div>
	</form>
	<div class="clearfix"></div>
	<div class="row" ng-repeat="c in comments">
		<div class="col-sm-1 col-xs-4">
			<div class="thumbnail">
				<resolveuseravatar userid="c.user"></resolveuseravatar>
			</div>
			<!-- /thumbnail -->
		</div>
		<!-- /col-sm-1 -->

		<div class="col-sm-11 col-xs-8">
			<div class="panel panel-default">
				<div class="panel-heading">
					<strong><resolveuser userid="c.user"></resolveuser></strong> <span class="text-muted"><span am-time-ago="c._created"></span></span>
				</div>
				<div class="panel-body"><span ng-bind-html="c.comment | nl2br"></span></div>
				<!-- /panel-body -->
			</div>
			<!-- /panel panel-default -->
		</div>
		<!-- /col-sm-5 -->
	</div>

</div>
<div class="clearfix"></div>

<style>
.thumbnail {
	padding: 0px;
}

.panel {
	position: relative;
}

.panel>.panel-heading:after,.panel>.panel-heading:before {
	position: absolute;
	top: 11px;
	left: -16px;
	right: 100%;
	width: 0;
	height: 0;
	display: block;
	content: " ";
	border-color: transparent;
	border-style: solid solid outset;
	pointer-events: none;
}

.panel>.panel-heading:after {
	border-width: 7px;
	border-right-color: #f7f7f7;
	margin-top: 1px;
	margin-left: 2px;
}

.panel>.panel-heading:before {
	border-right-color: #ddd;
	border-width: 8px;
}
</style>